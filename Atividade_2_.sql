BEGIN TRANSACTION;
DROP TABLE IF EXISTS "TB_EQUIPE";
CREATE TABLE IF NOT EXISTS "TB_EQUIPE" (
	"ID_EQUIPE"	INTEGER PRIMARY KEY AUTOINCREMENT,
	"NM_EQUIPE"	TEXT,
	"NM_PAIS_EQUIPE"	TEXT,
	FOREIGN KEY("NM_PAIS_EQUIPE") REFERENCES "TB_PAIS_EQUIPE"("ID_PAIS_EQUIPE")
);
DROP TABLE IF EXISTS "TB_PILOTO";
CREATE TABLE IF NOT EXISTS "TB_PILOTO" (
	"ID_PILOTO"	INTEGER PRIMARY KEY AUTOINCREMENT,
	"NM_PILOTO"	TEXT,
	"DT_NASCIMENTO"	TEXT,
	"ID_PAIS"	INTEGER,
	"ID_EQUIPE"	INTEGER,
	FOREIGN KEY("ID_EQUIPE") REFERENCES "TB_EQUIPE"("ID_EQUIPE"),
	FOREIGN KEY("ID_PAIS") REFERENCES "TB_PAIS"("ID_PAIS")
);
DROP TABLE IF EXISTS "TB_RESULTADO";
CREATE TABLE IF NOT EXISTS "TB_RESULTADO" (
	"ID_PROVA"	INTEGER,
	"ID_PILOTO"	INTEGER,
	"NR_TEMPO_PROVA"	NUMERIC,
	"NR_COLOC_FINAL"	INTEGER,
	"NR_POSICAO_GRID3"	INTEGER,
	"NR_MELHOR_VOLTA"	INTEGER,
	FOREIGN KEY("ID_PILOTO") REFERENCES "TB_PILOTO"("ID_PILOTO"),
	FOREIGN KEY("ID_PROVA") REFERENCES "TB_PROVA"("ID_PROVA")
);
DROP TABLE IF EXISTS "TB_PROVA";
CREATE TABLE IF NOT EXISTS "TB_PROVA" (
	"ID_PROVA"	INTEGER PRIMARY KEY AUTOINCREMENT,
	"DT_PROVA"	TEXT,
	"NM_SITUACAO"	TEXT,
	"ID_CIRCUITO"	INTEGER,
	FOREIGN KEY("ID_CIRCUITO") REFERENCES "TB_CIRCUITO"("ID_CIRCUITO")
);
DROP TABLE IF EXISTS "TB_CIRCUITO";
CREATE TABLE IF NOT EXISTS "TB_CIRCUITO" (
	"ID_CIRCUITO"	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	"NM_CIRCUITO"	TEXT,
	"NR_EXTENSAO"	INTEGER,
	"ID_PAIS"	INTEGER,
	FOREIGN KEY("ID_PAIS") REFERENCES "TB_PAIS"("ID_PAIS")
);
DROP TABLE IF EXISTS "TB_PAIS";
CREATE TABLE IF NOT EXISTS "TB_PAIS" (
	"ID_PAIS"	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	"NM_PAIS"	TEXT NOT NULL,
	"NR_POPULACAO"	INTEGER NOT NULL
);
INSERT INTO "TB_EQUIPE" ("ID_EQUIPE","NM_EQUIPE","NM_PAIS_EQUIPE") VALUES (1,'Mercedes','ALEMANHA'),
 (2,'Ferrari','ITALIA'),
 (3,'Red Bull','REINO UNIDO'),
 (4,'McLaren','REINO UNIDO'),
 (5,'Williams','REINO UNIDO');
INSERT INTO "TB_PILOTO" ("ID_PILOTO","NM_PILOTO","DT_NASCIMENTO","ID_PAIS","ID_EQUIPE") VALUES (1,'Valtteri Bottas','12/07/1980',1,1),
 (2,'Lewis Hamilton','16/08/1990',2,1),
 (3,'Max Verstappen','20/03/1995',3,3),
 (4,'Charles Leclerc','12/10/1993',4,2),
 (5,'Sebastian Vettel','13/03/1992',5,2);
INSERT INTO "TB_RESULTADO" ("ID_PROVA","ID_PILOTO","NR_TEMPO_PROVA","NR_COLOC_FINAL","NR_POSICAO_GRID3","NR_MELHOR_VOLTA") VALUES (1,1,90,1,5,40),
 (2,2,90,1,4,45),
 (3,3,85,1,5,50),
 (4,4,90,1,6,35),
 (4,4,100,1,4,60);
INSERT INTO "TB_PROVA" ("ID_PROVA","DT_PROVA","NM_SITUACAO","ID_CIRCUITO") VALUES (1,'17/03/2019','Circuito Aberto',1),
 (2,'31/03/2019','Circuito Internacional',2),
 (3,'14/04/2019','Circuito Internacional',3),
 (4,'28/04/2019','Circuito de rua',4),
 (5,'12/05/2019','Circuito da Catalunha',5);
INSERT INTO "TB_CIRCUITO" ("ID_CIRCUITO","NM_CIRCUITO","NR_EXTENSAO","ID_PAIS") VALUES (1,'Albert Park','5km',1),
 (2,'Circuito Internacional de Bahrein','5,4km',2),
 (3,'Circuito Internacional de Xangai','5,4km',3),
 (4,'Grande Premio do Azerbaijao','6km',4),
 (5,'Circuito da Catalunha','4,6km',5);
INSERT INTO "TB_PAIS" ("ID_PAIS","NM_PAIS","NR_POPULACAO") VALUES (1,'Finlandia',5000000),
 (2,'Reino Unido',66000000),
 (3,'Paises Baixos',17000000),
 (4,'Monaco',38000),
 (5,'Alemanha',83000000);
COMMIT;

2) SELECT NM_PILOTO FROM TB_PILOTO WHERE ID_EQUIPE =1;

3) SELECT NM_PILOTO,DT_NASCIMENTO FROM TB_PILOTO ORDER BY DT_NASCIMENTO ASC;

4)SELECT NM_PILOTO,NM_PAIS,NM_EQUIPE,NM_PAIS_EQUIPE,NR_COLOC_FINAL,NM_CIRCUITO FROM TB_PILOTO,TB_CIRCUITO,TB_PAIS,TB_EQUIPE,TB_PROVA,TB_RESULTADO
 WHERE NM_CIRCUITO="Albert Park";


